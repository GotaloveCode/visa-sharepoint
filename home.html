<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs-3.3.7/jq-3.2.1/jszip-2.5.0/dt-1.10.16/b-1.4.2/b-html5-1.4.2/b-print-1.4.2/datatables.min.css" >
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.7.0/chosen.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/formvalidation@0.6.2-dev/dist/css/formValidation.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css">
<link rel="stylesheet" href="/visarequest/SiteAssets/AWF/css/main.css">
<div class="container-fluid">
    <div class="row row-eq-height ml-2 mr-2 topdiv">
        <div class="col-md-2 col-sm-4 tab-border" id="sydbar">
            <img src="/ai/SiteAssets/AWF/awf.png" alt="AWF logo" class="img-responsive" alt="AWF"><br><br>
            <h4 class="und text-center">Visa Request</h4>
            <div class="tabs">
                <ul class="tabs nav nav-pills nav-stacked tab-links">
                    <li class="active"><a href="#home" data-toggle="tab"><span class="fa fa-edit"></span> New Request</a></li>
                    <li><a href="#Status" data-toggle="tab"><span class="fa fa-check-square-o"></span> Status</a>
                    </li>
                    <li style="display:none"><a href="#Reviewrequest" data-toggle="tab"><span class="fa fa-check-square-o"></span> Review</a>
                    </li>
                    <li style="display:none"><a href="#Reports" data-toggle="tab"><span class="fa fa-bar-chart"></span> Reports</a>
                    </li>
                    <li style="display:none"><a href="#admin" data-toggle="tab"><span class="fa fa-cogs"></span> Admin</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade active in" id="home">
                <div class="col-md-10">
                    <div class="row">
                        <div class="col-md">
                            <p class="text-center">
                                <h3 class="und text-center">VISA REQUEST</h3>
                            </p>
                        </div>
                    </div>
                    <div class="container row row-eq-height" id="newreqtab">
                        <div class="col-md-6 midbar" id="midbar">
                            <div>
                                <div class="row selectoption">
                                    <div class="col-md-6">
                                        <label>Citizenship/Residence</label>
                                    </div>
                                    <div class="col-md-6">
                                        <select class="form-control" name="residence" id="residence" data-placeholder="Select Origin">         
                                       </select>
                                       <input type="hidden" name="reqstatus" id="reqstatus" value="Publish">
                                    </div>
                                </div>
                                <div class="row selectoption">
                                    <div class="col-md-6">
                                        <label>Destination</label>
                                    </div>
                                    <div class="col-md-6">
                                        <select class="form-control" name="destination" id="destination" data-placeholder="Select Destination">                                                                                  
                                       </select>
                                    </div>
                                </div>
                                <div class="row selectoption">
                                    <div class="col-md-6">
                                        <p><b>Travel Date:</b></p>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <div class="input-group" id="traveldate">
                                                <input type="text" name="traveldate" id="trdate" class="form-control" >
                                                <span class="input-group-addon">
                                             <span class="glyphicon glyphicon-calendar"></span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
					                <div class="col-md-5"><label for="">Upload Files:</label></div>
					                <div class="col-md-7">
					                    <div class="files" id="attachFilesContainer">
		                                    <input id="infringementFiles" type="file" class="multi browsebtn">
		                                </div>
					                </div>
					            </div>	
                                <div>
                                    <hr>
                                </div>
                                <div>                                                                       
                                    <button type='button' id="btnDraft" name="submit" class="btn btn-default col-md-4 col-md-offset-2">Save as Draft</button>
                                    <button type='button' id="btnSubmit" name="submit" class="btn btn-orange col-md-4 col-md-offset-1">Submit Request</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h4>Info</h4>
                            <br>
                            <div class="row info" id="info">
                                <div>
                                    <i>
                                       <b>
                                          <p id="visa">Visa: <span></span></p>
                                          <p id="passport">Passport: <span></span></p>
                                          <div id="required">                                            
                                          </div>
                                          <p id="photos">Passport photos: <span></span></p>
                                          <p id="processingdays">Processing days: <span></span></p>
                                          <p id="workhrs">Working hours: <span></span></p>
                                       </b>                                       
                                    </i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="Status">
                <div class="col-md-10">
                    <h3 class="und text-center">REQUESTS</h3>
                    <div class="col-md-12">
                        <div id="DatatablePanel">
                            <table id="TableRequest" class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                    	<th>Requested</th>
                                        <th>Destination</th>
                                        <th>Travel Date</th>                                        
                                        <th>Status</th>
                                        <th>Comments</th>
                                        <th>Attachments</th>
                                        <th>Update</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade" id="Reviewrequest">
                <div class="col-md-10">
                    <h3 class="und text-center">REVIEW</h3>
                    <div class="col-md-12">
                        <div id="DatatablePanel">
                            <table id="TableReviewRequest" class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>Requested</th>
                                        <th>Requested By</th>
                                        <th>Office</th>
                                        <th>Citizenship</th>
                                        <th>Destination</th>
                                        <th>Travel Date</th>
                                        <th>Attachments</th>
										<th>Status</th>
										<th>Comments</th>
										<th>Review</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="tab-pane fade"  id="Reports">
	            <div class="col-md-10">
	            	<h3 class="und text-center">REPORTS</h3>
			        <div class="col-md-12">
			            <p class="text-center">Query Reports: Use Filters below to query the system</p>
			            <h1></h1>
			        </div>
			        <div class="col-md-12">
			            <div class="col-md-12 reports"> 
			                <div class="row">
			                    <div class="col-md-4">
			                        <div class="row">
			                            <div class="col-md-4"><label>From:</label></div>
			                            <div class="col-md-8">
			                                <div class="form-group">                                
			                                    <div class="input-group" id="datefrom">
			                                        <input type="text" name="fromdate" id="date-from" class="form-control">                                               
			                                        <span class="input-group-addon">
			                                            <span class="glyphicon glyphicon-calendar"></span>
			                                        </span>
			                                    </div>
    			                            </div>
    			                        </div>
    			                    </div>
    			                </div>
    			                <div class="col-md-4">
    			                    <div class="row">
    			                        <div class="col-md-4"><label>To:</label></div>
    			                        <div class="col-md-8">
    			                            <div class="form-group">
    			                                <div class="input-group" id="dateto">
    			                                    <input type="text" name="todate" class="form-control" id="date-to" >                                                
    			                                    <span class="input-group-addon">
    			                                        <span class="glyphicon glyphicon-calendar"></span>
    			                                    </span>
    			                                </div>                                            
    			                            </div>
    			                        </div>
    			                    </div>
    			                </div>
    			                <div class="col-md-4">
    			                    <div class="row">
    			                        <div class="col-md-4"><label>Status:</label></div>
    			                        <div class="col-md-8">
    			                            <select class="form-control chosen" id="selstatus" data-placeholder="Choose status" multiple="">
    			                                <option>Approved</option>
    			                                <option>Pending</option>
    											<option>Pending Changes</option>
    			                            </select>
    			                        </div>
    			                    </div>
    			                </div> 
    			            </div>
    			            <div class="row">                                                    
    			                <div class="col-md-4">
    			                    <div class="row">
    			                        <div class="col-md-4"><label>Requested By:</label></div>
    			                        <div class="col-md-8">
    			                            <select class="form-control" id="selcreatedby" data-placeholder="All" multiple="">			                                
    			                            </select>
    			                        </div>
    			                    </div>
    			                </div> 
                                <div class="col-md-4">
    			                    <div class="row">
    			                        <div class="col-md-4"><label>Origin:</label></div>
    			                        <div class="col-md-8">
    			                            <select class="form-control" id="selorigin" data-placeholder="All" multiple="">			                                
    			                            </select>
    			                        </div>
    			                    </div>
    			                </div>
    			                <div class="col-md-4">
    			                    <div class="row">
    			                        <div class="col-md-4"><label>Destination:</label></div>
    			                        <div class="col-md-6">
    			                            <select class="form-control" id="seldestination" data-placeholder="All" multiple="">			                                
    			                            </select>
    			                        </div>
    			                    </div>
    			                </div>                      
    			            </div>
    			        </div>                            
    			    </div>
    			    <div class="col-md-12">
    	               <h1></h1>                        
    	               <table class="table table-bordered table-responsive" id="tbreport" width="100%">
    		                <thead>
    		                    <tr>
    		                        <th>Requested</th>
    		                        <th>Requested By</th>                                        
    		                        <th>Origin</th>
    		                        <th>Destination</th>
    		                        <th>Travel Date</th>
    		                        <th>Status</th>
    		                    </tr>                                    
    		                </thead>
    		                <tbody></tbody>
    		            </table>
    		        </div>
    			</div>	
            </div>
            <div class="tab-pane fade" id="admin">
                <div class="col-md-10">
                    <h3 class="und text-center">ADMIN TAB</h3>
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <a class="btn-danger btn" href="#" onclick="loadDocFrames('/Lists/User/AllItems.aspx');">Manage Admins</a>
                            <a class="btn-danger btn" href="#" onclick="loadDocFrames('/Lists/VISA Info/AllItems.aspx');">Manage Visa Info</a>
                            <a class="btn-danger btn" href="#" onclick="loadDocFrames('/Lists/VisaExpiry/AllItems.aspx');">Manage Visa Expiry</a>
                            <a class="btn-danger btn" href="#" onclick="loadDocFrames('/Lists/Request/AllItems.aspx');">Manage Requests</a>                            
                        </div>
                        <div class="col-md-12"><h1></h1></div>
                        <div class="main-loader">
                            <div class="sk-cube-grid">
                                <div class="sk-cube sk-cube1"></div>
                                <div class="sk-cube sk-cube2"></div>
                                <div class="sk-cube sk-cube3"></div>
                                <div class="sk-cube sk-cube4"></div>
                                <div class="sk-cube sk-cube5"></div>
                                <div class="sk-cube sk-cube6"></div>
                                <div class="sk-cube sk-cube7"></div>
                                <div class="sk-cube sk-cube8"></div>
                                <div class="sk-cube sk-cube9"></div>
                            </div>
                        </div>
                        <div id="documents-iframe"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
		    
            <!-- Modal -->
				<div class="modal fade" id="RequestReviewModal" tabindex="-1" role="dialog" aria-labelledby="RequestReviewModal" aria-hidden="true">
				  <div class="modal-dialog modal-dialog-centered" role="document">
				    <div class="modal-content">
				      <div class="modal-header">
				        <h5 class="modal-title text-center" style="line-height: 1.8; font-family: fantasy; font-size: 20px">Request Review</h5>
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          <span aria-hidden="true">&times;</span>
				        </button>
				      </div>
				      <div class="RequestReviewModal-body" style=" width:90%;margin:0 auto;">
					      <div class="row">
					        <div class="col-md-6">
								    <label for="createdBy">Created By:</label>
								    <input type="text" class="form-control" id="createdBy" readonly>
							 </div>
							 <div class="col-md-6">
								    <label for="DateCreated">Date Created:</label>
								    <input type="text" class="form-control" id="dateCreated" readonly>
							 </div>
						  </div>
						  <div class="row">
					        <div class="col-md-6">
								    <label for="travelDate">Date Of Travel:</label>
								    <input type="text" class="form-control" id="travelDate" readonly>
							 </div>
							 <div class="col-md-6">
								    <label for="citizenship">Citizenship:</label>
								    <input type="text" class="form-control" id="citizenship" readonly>
							 </div>
						  </div>
						  <div class="row">
					        <div class="col-md-6">
								    <label for="destination">Destination:</label>
								    <input type="text" class="form-control" id="destination1" readonly>
							 </div>
						 </div>
						<div class="row selectoption">
						 	<div class="col-md-6">
						 		<label for="comments">Comments:</label>
	                            <textarea name="comments" class="form-control" id="comments"></textarea>                          	
	                        </div>
	                         <div class="col-md-6">
							 	<label for="status">Status:</label>
		                        <select class="form-control" id="status">
		 						  <option>Approved</option>
								  <option>Pending Changes</option>
								</select>
                          	</div>
	                        <input id="requestId" name="requestId" type="hidden">
						</div>
						<div class="row selectoption"></div>
				      </div>
				      <div class="modal-footer">
				      	<button type="button" class="btn btn-primary pull-left" style="margin-left:43px" id="btnReview">REVIEW</button>
				      </div>
				    </div>
				  </div>
				</div>
			<!-- end of Modal -->
			            <!-- Status Modal -->
				<div class="modal fade" id="StatusModal" tabindex="-1" role="dialog" aria-labelledby="StatusModal" aria-hidden="true">
				  <div class="modal-dialog modal-dialog-centered" role="document">
				    <div class="modal-content">
				      <div class="modal-header">
				        <h5 class="modal-title text-center" style="line-height: 1.8; font-family: fantasy; font-size: 20px">Update Request</h5>
				        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
				          <span aria-hidden="true">&times;</span>
				        </button>
				      </div>
				      <div class="statusmodal-body" style=" width:80%;margin:0 auto;">
					      <div class="row">
					      	 <div class="col-md-6">
								    <label for="currenttravelDate">Current Travel Date:</label>
								    <input type="text" class="form-control" id="currenttravelDate" readonly>
							 </div>
					      	<div class="col-md-6">
							        <div class="form-group">
							        	<label for="statusDate">New Travel Date:</label>
							            <div class="input-group date">
							                <input type="text" class="form-control" id="statusDate">
							                <span class="input-group-addon">
							                   <span class="glyphicon glyphicon-calendar"></span>
							                </span>
							           </div>
							     </div>
                            </div>
                          </div>  
                            <div class="row">
					      	 <div class="col-md-6">
					      	 	<div class="form-group">
								    <label for="currentdest">Destination:</label>
								    <select name="currentdest" class="form-control" id="currentdest"></select>
								</div>
							 </div>
							</div>
                            <div class="form-group">                               
									<label>Attachments</label>
									<div id="att"></div>
							</div>
                            <div class="form-group">
								<div class="files col-md-6" id="attFilesContainer">
	                                <input id="editFiles" type="file" class="multi btnatt">
	                            </div>      
							</div>
						 </div>
						<div class="row">
						 	<input id="statusrequestId" name="statusrequestId" type="hidden">
						</div>
				      
				      <div class="modal-footer">
				      	<button type="button" class="btn btn-primary pull-left" style="margin-left:43px" id="btnUpdate">UPDATE</button>
				      	<button type="button" style="display:none" class="btn btn-danger pull-left" id="btndelete">DELETE <span class="glyphicon glyphicon-remove"></span></button>
				      </div>
				    </div>
				  </div>
				</div>
			<!-- end of Status Modal-->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/alasql@0.4"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.1/moment.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.32/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs-3.3.7/jq-2.2.4/jszip-3.1.3/dt-1.10.15/b-1.3.1/b-colvis-1.3.1/b-html5-1.3.1/b-print-1.3.1/datatables.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-multifile@2.2.2/jquery.MultiFile.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/plug-ins/1.10.16/sorting/datetime-moment.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.7.0/chosen.jquery.min.js" type="text/javascript"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/formvalidation@0.6.2-dev/dist/js/formValidation.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/formvalidation@0.6.2-dev/dist/js/framework/bootstrap.min.js"></script>
<script type="text/javascript" src="/_layouts/15/sp.runtime.js"></script>
<script type="text/javascript" src="/_layouts/15/sp.js"></script>
<script type="text/javascript" src="/visarequest/SiteAssets/AWF/js/batchexecutor.js"></script>
<script type="text/javascript" src="/visarequest/SiteAssets/AWF/js/app.js"></script>
<script type="text/javascript" src="/visarequest/SiteAssets/AWF/js/upload.js"></script>
